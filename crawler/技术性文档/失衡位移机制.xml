<?xml version="1.0"?><api batchcomplete=""><query><pages><page _idx="68396" pageid="68396" ns="0" title="失衡位移机制" /></pages><export xml:space="preserve">&lt;mediawiki xmlns="http://www.mediawiki.org/xml/export-0.11/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mediawiki.org/xml/export-0.11/ http://www.mediawiki.org/xml/export-0.11.xsd" version="0.11" xml:lang="zh-Hans-CN"&gt;
  &lt;siteinfo&gt;
    &lt;sitename&gt;PRTS&lt;/sitename&gt;
    &lt;dbname&gt;ak&lt;/dbname&gt;
    &lt;base&gt;https://prts.wiki/w/%E9%A6%96%E9%A1%B5&lt;/base&gt;
    &lt;generator&gt;MediaWiki 1.39.7&lt;/generator&gt;
    &lt;case&gt;first-letter&lt;/case&gt;
    &lt;namespaces&gt;
      &lt;namespace key="-2" case="first-letter"&gt;媒体&lt;/namespace&gt;
      &lt;namespace key="-1" case="first-letter"&gt;特殊&lt;/namespace&gt;
      &lt;namespace key="0" case="first-letter" /&gt;
      &lt;namespace key="1" case="first-letter"&gt;讨论&lt;/namespace&gt;
      &lt;namespace key="2" case="first-letter"&gt;用户&lt;/namespace&gt;
      &lt;namespace key="3" case="first-letter"&gt;用户讨论&lt;/namespace&gt;
      &lt;namespace key="4" case="first-letter"&gt;PRTS&lt;/namespace&gt;
      &lt;namespace key="5" case="first-letter"&gt;PRTS讨论&lt;/namespace&gt;
      &lt;namespace key="6" case="first-letter"&gt;文件&lt;/namespace&gt;
      &lt;namespace key="7" case="first-letter"&gt;文件讨论&lt;/namespace&gt;
      &lt;namespace key="8" case="first-letter"&gt;MediaWiki&lt;/namespace&gt;
      &lt;namespace key="9" case="first-letter"&gt;MediaWiki讨论&lt;/namespace&gt;
      &lt;namespace key="10" case="first-letter"&gt;模板&lt;/namespace&gt;
      &lt;namespace key="11" case="first-letter"&gt;模板讨论&lt;/namespace&gt;
      &lt;namespace key="12" case="first-letter"&gt;帮助&lt;/namespace&gt;
      &lt;namespace key="13" case="first-letter"&gt;帮助讨论&lt;/namespace&gt;
      &lt;namespace key="14" case="first-letter"&gt;分类&lt;/namespace&gt;
      &lt;namespace key="15" case="first-letter"&gt;分类讨论&lt;/namespace&gt;
      &lt;namespace key="102" case="first-letter"&gt;属性&lt;/namespace&gt;
      &lt;namespace key="103" case="first-letter"&gt;属性讨论&lt;/namespace&gt;
      &lt;namespace key="108" case="first-letter"&gt;概念&lt;/namespace&gt;
      &lt;namespace key="109" case="first-letter"&gt;概念讨论&lt;/namespace&gt;
      &lt;namespace key="112" case="first-letter"&gt;smw/schema&lt;/namespace&gt;
      &lt;namespace key="113" case="first-letter"&gt;smw/schema talk&lt;/namespace&gt;
      &lt;namespace key="114" case="first-letter"&gt;Rule&lt;/namespace&gt;
      &lt;namespace key="115" case="first-letter"&gt;Rule talk&lt;/namespace&gt;
      &lt;namespace key="274" case="first-letter"&gt;微件&lt;/namespace&gt;
      &lt;namespace key="275" case="first-letter"&gt;微件讨论&lt;/namespace&gt;
      &lt;namespace key="828" case="first-letter"&gt;模块&lt;/namespace&gt;
      &lt;namespace key="829" case="first-letter"&gt;模块讨论&lt;/namespace&gt;
      &lt;namespace key="2300" case="case-sensitive"&gt;Gadget&lt;/namespace&gt;
      &lt;namespace key="2301" case="case-sensitive"&gt;Gadget talk&lt;/namespace&gt;
      &lt;namespace key="2302" case="case-sensitive"&gt;Gadget definition&lt;/namespace&gt;
      &lt;namespace key="2303" case="case-sensitive"&gt;Gadget definition talk&lt;/namespace&gt;
      &lt;namespace key="2600" case="first-letter"&gt;话题&lt;/namespace&gt;
      &lt;namespace key="2900" case="first-letter"&gt;Map&lt;/namespace&gt;
      &lt;namespace key="2901" case="first-letter"&gt;Map talk&lt;/namespace&gt;
      &lt;namespace key="3000" case="first-letter"&gt;泰拉大典&lt;/namespace&gt;
      &lt;namespace key="3001" case="first-letter"&gt;泰拉大典讨论&lt;/namespace&gt;
      &lt;namespace key="3002" case="first-letter"&gt;样板&lt;/namespace&gt;
      &lt;namespace key="3003" case="first-letter"&gt;样板讨论&lt;/namespace&gt;
    &lt;/namespaces&gt;
  &lt;/siteinfo&gt;
  &lt;page&gt;
    &lt;title&gt;失衡位移机制&lt;/title&gt;
    &lt;ns&gt;0&lt;/ns&gt;
    &lt;id&gt;68396&lt;/id&gt;
    &lt;revision&gt;
      &lt;id&gt;310624&lt;/id&gt;
      &lt;parentid&gt;310565&lt;/parentid&gt;
      &lt;timestamp&gt;2024-06-05T07:09:18Z&lt;/timestamp&gt;
      &lt;contributor&gt;
        &lt;username&gt;调零修罗&lt;/username&gt;
        &lt;id&gt;6713&lt;/id&gt;
      &lt;/contributor&gt;
      &lt;minor/&gt;
      &lt;comment&gt;(InPageEdit-preference-summary-default)&lt;/comment&gt;
      &lt;origin&gt;310624&lt;/origin&gt;
      &lt;model&gt;wikitext&lt;/model&gt;
      &lt;format&gt;text/x-wiki&lt;/format&gt;
      &lt;text bytes="2701" sha1="p64nvk6qabilk2qbg09e1lp7fs8ysxb" xml:space="preserve"&gt;[[分类:技术性文档]]{{#Widget:Math}}
*该页面最近一次更新时，参考的游戏客户端版本号为'''？'''（简体中文版客户端）。
部分单位可对敌方进行位移，使得敌方行动被强制改变。在“失衡免疫”实装后，我们将其称为“失衡运动”。

明日方舟使用了Unity引擎的默认的运动效果，因此游戏内的位移受力可参考经典物理学模型，具体差异会在下方标明。
* 所有角色类单位（干员、地图装置等）是无法受到位移的。
* 这里的敌方单位也包括空中单位，但会因下述的判断而被取消位移。
* 为方便理解，此处所提及的'''位移'''均指代依赖于受力的移动与速度，与敌方类单位的那种依赖于移动速度的移动与速度是不同的。本页不讨论后者。

===受力===
当一名敌方单位受到一个任意来源的力，并且 受力大小&amp;gt;0 时，该敌方单位将进入失衡(UNBALANCE)状态机（以下简称“失衡”）。

===失衡状态机===
单位进入失衡(UNBALANCE)状态机时：
* 激活刚体，进行相关的物理运算，并参照下述原则进行位移
* 立刻拥有0.1s的“失衡硬直”
** 此期间无法解除失衡状态机——哪怕已经没有被移动或者受力。

单位处于失衡(UNBALANCE)状态机下：
* 敌人将在每一游戏帧中，根据自己所受到的力与速度进行运动。

失衡(UNBALANCE)状态机会在单位发生以下这些情况中的任一时结束：
* 该单位陷入{{异常效果|浮空}}状态
* 该单位 速度≤0.1m/s 且 不处于“失衡硬直”期间&amp;lt;!--注：此处原为速度≥0.1时维持，核实为速度＞0.1时维持--&amp;gt;
* 该单位被强制切换至其他状态机（例如复活、触发技能，常见于boss单位与{{特殊机制|强制触发技能}}敌人）

失衡(UNBALANCE)状态机以任何方式'''正常'''结束后：
* 刚体将被停用（届时将不再进行物理相关的运算）。
* 清除所有正在拉动自己的“拖拽弹道”。
* 清除运动速度（归零）。

===默认参数与配置===
接下来的讨论默认被讨论对象处于“失衡”状态。为了方便计算起见，下面对游戏内的数值进行一些单位假设（即搭建环境模型）：
* 所有物理计算均在一个二维平面内进行
* 所有的敌人被视为质量为 \(1\ \mathrm{kg}\) 的胶囊形状刚体（水平切面为圆形）
* 每个方格的边长为 \(1\ \mathrm{m}\)
* 垂直于平面的重力加速度 \(g=9.81\ \mathrm{kg/m \cdot s^2}\)
* 平面的动摩擦因数 \(\mu=0.5\)

===动摩擦计算===
* 待补充

===碰撞、停止===
* 待补充

===“转弯”===
* 待补充&lt;/text&gt;
      &lt;sha1&gt;p64nvk6qabilk2qbg09e1lp7fs8ysxb&lt;/sha1&gt;
    &lt;/revision&gt;
  &lt;/page&gt;
&lt;/mediawiki&gt;
</export></query></api>