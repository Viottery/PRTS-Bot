<?xml version="1.0"?><api batchcomplete=""><query><pages><page _idx="68081" pageid="68081" ns="0" title="就近取整" /></pages><export xml:space="preserve">&lt;mediawiki xmlns="http://www.mediawiki.org/xml/export-0.11/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mediawiki.org/xml/export-0.11/ http://www.mediawiki.org/xml/export-0.11.xsd" version="0.11" xml:lang="zh-Hans-CN"&gt;
  &lt;siteinfo&gt;
    &lt;sitename&gt;PRTS&lt;/sitename&gt;
    &lt;dbname&gt;ak&lt;/dbname&gt;
    &lt;base&gt;https://prts.wiki/w/%E9%A6%96%E9%A1%B5&lt;/base&gt;
    &lt;generator&gt;MediaWiki 1.39.7&lt;/generator&gt;
    &lt;case&gt;first-letter&lt;/case&gt;
    &lt;namespaces&gt;
      &lt;namespace key="-2" case="first-letter"&gt;媒体&lt;/namespace&gt;
      &lt;namespace key="-1" case="first-letter"&gt;特殊&lt;/namespace&gt;
      &lt;namespace key="0" case="first-letter" /&gt;
      &lt;namespace key="1" case="first-letter"&gt;讨论&lt;/namespace&gt;
      &lt;namespace key="2" case="first-letter"&gt;用户&lt;/namespace&gt;
      &lt;namespace key="3" case="first-letter"&gt;用户讨论&lt;/namespace&gt;
      &lt;namespace key="4" case="first-letter"&gt;PRTS&lt;/namespace&gt;
      &lt;namespace key="5" case="first-letter"&gt;PRTS讨论&lt;/namespace&gt;
      &lt;namespace key="6" case="first-letter"&gt;文件&lt;/namespace&gt;
      &lt;namespace key="7" case="first-letter"&gt;文件讨论&lt;/namespace&gt;
      &lt;namespace key="8" case="first-letter"&gt;MediaWiki&lt;/namespace&gt;
      &lt;namespace key="9" case="first-letter"&gt;MediaWiki讨论&lt;/namespace&gt;
      &lt;namespace key="10" case="first-letter"&gt;模板&lt;/namespace&gt;
      &lt;namespace key="11" case="first-letter"&gt;模板讨论&lt;/namespace&gt;
      &lt;namespace key="12" case="first-letter"&gt;帮助&lt;/namespace&gt;
      &lt;namespace key="13" case="first-letter"&gt;帮助讨论&lt;/namespace&gt;
      &lt;namespace key="14" case="first-letter"&gt;分类&lt;/namespace&gt;
      &lt;namespace key="15" case="first-letter"&gt;分类讨论&lt;/namespace&gt;
      &lt;namespace key="102" case="first-letter"&gt;属性&lt;/namespace&gt;
      &lt;namespace key="103" case="first-letter"&gt;属性讨论&lt;/namespace&gt;
      &lt;namespace key="108" case="first-letter"&gt;概念&lt;/namespace&gt;
      &lt;namespace key="109" case="first-letter"&gt;概念讨论&lt;/namespace&gt;
      &lt;namespace key="112" case="first-letter"&gt;smw/schema&lt;/namespace&gt;
      &lt;namespace key="113" case="first-letter"&gt;smw/schema talk&lt;/namespace&gt;
      &lt;namespace key="114" case="first-letter"&gt;Rule&lt;/namespace&gt;
      &lt;namespace key="115" case="first-letter"&gt;Rule talk&lt;/namespace&gt;
      &lt;namespace key="274" case="first-letter"&gt;微件&lt;/namespace&gt;
      &lt;namespace key="275" case="first-letter"&gt;微件讨论&lt;/namespace&gt;
      &lt;namespace key="828" case="first-letter"&gt;模块&lt;/namespace&gt;
      &lt;namespace key="829" case="first-letter"&gt;模块讨论&lt;/namespace&gt;
      &lt;namespace key="2300" case="case-sensitive"&gt;Gadget&lt;/namespace&gt;
      &lt;namespace key="2301" case="case-sensitive"&gt;Gadget talk&lt;/namespace&gt;
      &lt;namespace key="2302" case="case-sensitive"&gt;Gadget definition&lt;/namespace&gt;
      &lt;namespace key="2303" case="case-sensitive"&gt;Gadget definition talk&lt;/namespace&gt;
      &lt;namespace key="2600" case="first-letter"&gt;话题&lt;/namespace&gt;
      &lt;namespace key="2900" case="first-letter"&gt;Map&lt;/namespace&gt;
      &lt;namespace key="2901" case="first-letter"&gt;Map talk&lt;/namespace&gt;
      &lt;namespace key="3000" case="first-letter"&gt;泰拉大典&lt;/namespace&gt;
      &lt;namespace key="3001" case="first-letter"&gt;泰拉大典讨论&lt;/namespace&gt;
      &lt;namespace key="3002" case="first-letter"&gt;样板&lt;/namespace&gt;
      &lt;namespace key="3003" case="first-letter"&gt;样板讨论&lt;/namespace&gt;
    &lt;/namespaces&gt;
  &lt;/siteinfo&gt;
  &lt;page&gt;
    &lt;title&gt;就近取整&lt;/title&gt;
    &lt;ns&gt;0&lt;/ns&gt;
    &lt;id&gt;68081&lt;/id&gt;
    &lt;revision&gt;
      &lt;id&gt;309073&lt;/id&gt;
      &lt;parentid&gt;309050&lt;/parentid&gt;
      &lt;timestamp&gt;2024-05-26T05:27:20Z&lt;/timestamp&gt;
      &lt;contributor&gt;
        &lt;username&gt;Enko&lt;/username&gt;
        &lt;id&gt;394&lt;/id&gt;
      &lt;/contributor&gt;
      &lt;minor/&gt;
      &lt;comment&gt;[InPageEdit]  没有编辑摘要&lt;/comment&gt;
      &lt;origin&gt;309073&lt;/origin&gt;
      &lt;model&gt;wikitext&lt;/model&gt;
      &lt;format&gt;text/x-wiki&lt;/format&gt;
      &lt;text bytes="2089" sha1="j60wlogqx8qun3rorxq8ochbs5senj8" xml:space="preserve"&gt;{{Cbox2|lv=0|mdi=true|icon=link-variant|text='''理论参考：'''
* [https://docs.unity.cn/cn/current/ScriptReference/Mathf.html Unity 脚本 API: Mathf 结构体]
* [https://docs.unity.cn/cn/current/ScriptReference/Mathf.Round.html Unity 脚本 API: Mathf.Round]
* [https://learn.microsoft.com/en-us/dotnet/fundamentals/runtime-libraries/system-midpointrounding 原生 .NET 中的 Round to nearest（System.MidpointRounding 枚举型）]}}
由于《明日方舟》使用Unity引擎编写，其有多处使用了Unity核心库中的Mathf结构函数对小数（浮点数，Float类型）进行'''取整'''处理，包括：
* Mathf.Floor(x) 向下取整（返回小于等于x的最大整数）
* Mathf.Ceil(x) 向上取整（返回大于等于x的最小整数）
* Mathf.Round(x) 就近取整
其中“就近取整”并非常见的“四舍五入”，而是“'''四舍六入五成双'''”（采用.NET中的MidpointRounding.ToEven规则）。

对于x的小数部分x&amp;lt;sub&amp;gt;f&amp;lt;/sub&amp;gt;（此时0≤x&amp;lt;sub&amp;gt;f&amp;lt;/sub&amp;gt;&amp;lt;1）：
* 当 x&amp;lt;sub&amp;gt;f&amp;lt;/sub&amp;gt;&amp;gt;0.5 时，x向上取整。
: 例：7.6 → 8，9.72 → 10
* 当 x&amp;lt;sub&amp;gt;f&amp;lt;/sub&amp;gt;&amp;lt;0.5 时，x向下取整。
: 例：7.4 → 7，4.4999 → 4
* 当 x&amp;lt;sub&amp;gt;f&amp;lt;/sub&amp;gt;=0.5 时，'''返回x两边整数中的偶数'''
: 例：7.5 → 8，6.5 → 6，1999.5 → 2000

当站内提及“'''就近取整'''”时，通常就指的是这样的取整方式。

例如：在集成战略[[探索者的银凇止境]]中，将所有文化比较研究完成后可以令干员在高难度（9+）情况下获得累积+23%的攻击力与防御力加成，该加成以[[游戏数据基础#符文|符文]]的形式写入。

已知，符文加成后干员的数据将'''就近取整'''，则：
* 招募1星干员[[THRM-EX]]（30级，满信赖）的情况下，其原本攻击力为350。
: 加成后，攻击力变为'''430'''（350 × 1.23 = 430.5 → '''430'''）。
* 招募2星干员[[12F]]（30级）的情况下，其原本防御力为50。
: 加成后，防御力变为'''62'''（50 × 1.23 = 61.5 → '''62'''）。
&amp;lt;noinclude&amp;gt;[[分类:技术性文档]]&amp;lt;/noinclude&amp;gt;&lt;/text&gt;
      &lt;sha1&gt;j60wlogqx8qun3rorxq8ochbs5senj8&lt;/sha1&gt;
    &lt;/revision&gt;
  &lt;/page&gt;
&lt;/mediawiki&gt;
</export></query></api>