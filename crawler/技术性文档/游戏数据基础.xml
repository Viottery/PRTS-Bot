<?xml version="1.0"?><api batchcomplete=""><query><pages><page _idx="1319" pageid="1319" ns="0" title="游戏数据基础" /></pages><export xml:space="preserve">&lt;mediawiki xmlns="http://www.mediawiki.org/xml/export-0.11/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mediawiki.org/xml/export-0.11/ http://www.mediawiki.org/xml/export-0.11.xsd" version="0.11" xml:lang="zh-Hans-CN"&gt;
  &lt;siteinfo&gt;
    &lt;sitename&gt;PRTS&lt;/sitename&gt;
    &lt;dbname&gt;ak&lt;/dbname&gt;
    &lt;base&gt;https://prts.wiki/w/%E9%A6%96%E9%A1%B5&lt;/base&gt;
    &lt;generator&gt;MediaWiki 1.39.7&lt;/generator&gt;
    &lt;case&gt;first-letter&lt;/case&gt;
    &lt;namespaces&gt;
      &lt;namespace key="-2" case="first-letter"&gt;媒体&lt;/namespace&gt;
      &lt;namespace key="-1" case="first-letter"&gt;特殊&lt;/namespace&gt;
      &lt;namespace key="0" case="first-letter" /&gt;
      &lt;namespace key="1" case="first-letter"&gt;讨论&lt;/namespace&gt;
      &lt;namespace key="2" case="first-letter"&gt;用户&lt;/namespace&gt;
      &lt;namespace key="3" case="first-letter"&gt;用户讨论&lt;/namespace&gt;
      &lt;namespace key="4" case="first-letter"&gt;PRTS&lt;/namespace&gt;
      &lt;namespace key="5" case="first-letter"&gt;PRTS讨论&lt;/namespace&gt;
      &lt;namespace key="6" case="first-letter"&gt;文件&lt;/namespace&gt;
      &lt;namespace key="7" case="first-letter"&gt;文件讨论&lt;/namespace&gt;
      &lt;namespace key="8" case="first-letter"&gt;MediaWiki&lt;/namespace&gt;
      &lt;namespace key="9" case="first-letter"&gt;MediaWiki讨论&lt;/namespace&gt;
      &lt;namespace key="10" case="first-letter"&gt;模板&lt;/namespace&gt;
      &lt;namespace key="11" case="first-letter"&gt;模板讨论&lt;/namespace&gt;
      &lt;namespace key="12" case="first-letter"&gt;帮助&lt;/namespace&gt;
      &lt;namespace key="13" case="first-letter"&gt;帮助讨论&lt;/namespace&gt;
      &lt;namespace key="14" case="first-letter"&gt;分类&lt;/namespace&gt;
      &lt;namespace key="15" case="first-letter"&gt;分类讨论&lt;/namespace&gt;
      &lt;namespace key="102" case="first-letter"&gt;属性&lt;/namespace&gt;
      &lt;namespace key="103" case="first-letter"&gt;属性讨论&lt;/namespace&gt;
      &lt;namespace key="108" case="first-letter"&gt;概念&lt;/namespace&gt;
      &lt;namespace key="109" case="first-letter"&gt;概念讨论&lt;/namespace&gt;
      &lt;namespace key="112" case="first-letter"&gt;smw/schema&lt;/namespace&gt;
      &lt;namespace key="113" case="first-letter"&gt;smw/schema talk&lt;/namespace&gt;
      &lt;namespace key="114" case="first-letter"&gt;Rule&lt;/namespace&gt;
      &lt;namespace key="115" case="first-letter"&gt;Rule talk&lt;/namespace&gt;
      &lt;namespace key="274" case="first-letter"&gt;微件&lt;/namespace&gt;
      &lt;namespace key="275" case="first-letter"&gt;微件讨论&lt;/namespace&gt;
      &lt;namespace key="828" case="first-letter"&gt;模块&lt;/namespace&gt;
      &lt;namespace key="829" case="first-letter"&gt;模块讨论&lt;/namespace&gt;
      &lt;namespace key="2300" case="case-sensitive"&gt;Gadget&lt;/namespace&gt;
      &lt;namespace key="2301" case="case-sensitive"&gt;Gadget talk&lt;/namespace&gt;
      &lt;namespace key="2302" case="case-sensitive"&gt;Gadget definition&lt;/namespace&gt;
      &lt;namespace key="2303" case="case-sensitive"&gt;Gadget definition talk&lt;/namespace&gt;
      &lt;namespace key="2600" case="first-letter"&gt;话题&lt;/namespace&gt;
      &lt;namespace key="2900" case="first-letter"&gt;Map&lt;/namespace&gt;
      &lt;namespace key="2901" case="first-letter"&gt;Map talk&lt;/namespace&gt;
      &lt;namespace key="3000" case="first-letter"&gt;泰拉大典&lt;/namespace&gt;
      &lt;namespace key="3001" case="first-letter"&gt;泰拉大典讨论&lt;/namespace&gt;
      &lt;namespace key="3002" case="first-letter"&gt;样板&lt;/namespace&gt;
      &lt;namespace key="3003" case="first-letter"&gt;样板讨论&lt;/namespace&gt;
    &lt;/namespaces&gt;
  &lt;/siteinfo&gt;
  &lt;page&gt;
    &lt;title&gt;游戏数据基础&lt;/title&gt;
    &lt;ns&gt;0&lt;/ns&gt;
    &lt;id&gt;1319&lt;/id&gt;
    &lt;revision&gt;
      &lt;id&gt;335497&lt;/id&gt;
      &lt;parentid&gt;331008&lt;/parentid&gt;
      &lt;timestamp&gt;2025-02-28T16:08:13Z&lt;/timestamp&gt;
      &lt;contributor&gt;
        &lt;username&gt;StarHeartHunt&lt;/username&gt;
        &lt;id&gt;12&lt;/id&gt;
      &lt;/contributor&gt;
      &lt;minor/&gt;
      &lt;comment&gt;文字替换 -“非盈利”替换为“非营利”&lt;/comment&gt;
      &lt;origin&gt;335497&lt;/origin&gt;
      &lt;model&gt;wikitext&lt;/model&gt;
      &lt;format&gt;text/x-wiki&lt;/format&gt;
      &lt;text bytes="28650" sha1="fwrwe67ompaoo6qy0w9baqoh6fixdan" xml:space="preserve"&gt;[[分类:技术性文档]]
{{cbox2|lv=1|title=本页面仅收录游戏内的准确数据与算法，如需了解实战表现等内容请移步至[[作战机制]]}}
==博士等级==
{{:博士等级}}

==干员信赖==
{{:信赖值}}
==干员等级==
===各等级对应经验值===
{{:干员升级数值}}
===星级对应等级上限===
{{:干员等级上限}}
&amp;lt;!--
==分支特性信息==
{{:分支特性信息}}
--&amp;gt;

==作战记录经验==
{|class="wikitable" style="width:180px; display:table; text-align:center; white-space:normal;"
!作战记录种类
!提供经验
|-
|{{材料消耗|基础作战记录}}||200
|-
|{{材料消耗|初级作战记录}}||400
|-
|{{材料消耗|中级作战记录}}||1000
|-
|{{材料消耗|高级作战记录}}||2000
|}

==精英化所需龙门币==
{| class="wikitable" style="text-align:center"
! !!★6!!★5!!★4!!★3!!★2!!★1
|-
!0→1
|30,000||20,000||15,000||10,000||—||—
|-
!1→2
|180,000||120,000||60,000||—||—||—
|-
!合计
|210,000||140,000||75,000||10,000||—||—
|}

==属性==
{{#Widget:Math}}
{{cbox2|lv=1|icon=history|title=本章节内容最后修改于模组系统实装前，仅供参考。}}
{{Cbox2|lv=0|icon=stream|text='''数据源：'''
* [https://nga.178.com/read.php?tid=21829497 &amp;lt;nowiki&amp;gt;[&amp;lt;/nowiki&amp;gt;算法氵&amp;lt;nowiki&amp;gt;]&amp;lt;/nowiki&amp;gt; 从源头解析单位数值运算方式与运算公式]}}
===属性的定义===
游戏战斗内的所有'''实体'''单位都拥有属性。

计算属性值时会经过许多情况，但这里仅讨论对最基础的属性值修正——'''基础值'''。

* '''基本属性值：'''指单位某个属性的基本值，一般指由数据文件直接定义的属性的基本数值，可理解为刨除任何加成和修饰后的最原始数值。
* '''基础值：'''基本属性值经过'''属性计算器'''和'''符文'''运算后获得的数值，将会作为真正的基础值参与后续运算。
====属性修饰器====
目前已知的修饰器只有一种：
*从源实体获得基本属性（fetchBaseValueFromSourceEntity）
:一种特殊的属性修饰方式。使用该种修饰方式时，对应的属性修饰器将被'''重写'''，这将影响后续属性变化的计算优先度。
:使用该种方式的实体：辅助分支“吟游者”（如[[空]]，[[浊心斯卡蒂]]），其鼓舞效果会使用此修饰器重写。
{|class="wikitable" style="width:600px; display:table; text-align:center; white-space:normal;"
!原计算方式
!重写后计算方式
!重写后数值
|-
|直接加算/最终加算||不变||源实体的对应属性数值 + 修饰器数值
|-
|直接乘算||直接加算||源实体的对应属性数值 * 修饰器数值
|-
|最终乘算||最终加算||源实体的对应属性数值 * '''最终乘算修正后的'''修饰器数值
|}
====符文运算====
{{Cbox2|lv=1|text=本节所提到的符文运算（rune）'''特别指代'''直接修改干员/敌人属性的rune。&amp;lt;br&amp;gt;关于“符文”的实现请参阅[[作战机制#符文]]。}}
符文计算通常通过符文来导入，从而实现对干员属性、敌人属性等的“入场前”修改。

对于干员，符文属性运算使用的基础值来自'''基本属性值'''经过前述'''属性计算器'''的运算结果，对于干员之外的实体则为其基本属性。此处以 \( \alpha \) 指代此数值。

因为符文本身并不只是用来计算属性，所以不适用后述的'''属性基本公式'''。

符文属性运算过程中有加算与乘算两种计算方法，并且加算的优先级高于乘算，具体运算方法如下：
*当多种同计算方式数值叠加时，叠加结果为：
**符文加算结果\(R_p = p_1 + p_2 + \cdots + p_n\)
**符文乘算结果\(R_t = t_1 t_2 \cdots t_n\)
*所以符文属性运算的最终结果为：
**'''基础值：'''\(A = R_t(\alpha + R_p) \)

===属性基本公式===
*属性变化共有四种计算方式：
**直接加算：直接对基础数值进行加算。
**直接乘算：对'''直接加算'''完成后的结果进行乘算。
**最终加算：对'''直接加算'''和'''直接乘算'''完成后的结果进行加算。在当前版本游戏内被描述为“获得额外附加的基础属性加成”（即{{术语|ba.inspire|鼓舞}}）。
**最终乘算：对其余三种计算方式完成后的结果进行乘算。
*属性变化叠加：除'''最终乘算'''为变化数值之间相乘外，其余均为相加。因此，属性变化叠加结果的计算公式为：
**直接加算结果\(D_p = p_1 + p_2 + \cdots + p_n\)
**直接乘算结果\(D_t = t_1 + t_2 + \cdots + t_n\)&amp;lt;br&amp;gt;存在修正：若\(D_t &amp;lt; 0\)则自动补正为0。
**最终加算结果\(F_p = p_1 + p_2 + \cdots + p_n\)
**最终乘算结果\(F_t = t_1 t_2 \cdots t_n\)&amp;lt;br&amp;gt;存在修正：当组成结果的任意一项小于0时，自动将其补正为原数值+1。
*最终属性结果：指经过'''[[游戏数据基础#数值范围]]'''限制得到的属性结果。&amp;lt;br&amp;gt;当结果小于其对应的数值范围下限时，取下限，反之亦同。
**最终属性结果\(A_f = F_t[(A + D_p)(1 + D_t) + F_p]\)

===属性计算器===
*属性计算器用来进行第一阶段的基础数值运算。
*属性计算器只涉及干员的属性，其他非干员单位将不会进行此阶段运算。
*影响属性计算器运算结果的因素有：'''精英化阶段、等级、潜能等级和信赖值'''。
属性计算器的具体运算步骤为：
:1.根据'''精英化阶段'''和'''等级'''两个属性计算出第二步运算所需的属性数值。
:2.通过[[游戏数据基础#干员信赖|信赖表格]]获得信赖值所对应的信赖等级，按照该干员定义的信赖加成数值和上一步运算的结果，计算出第三步运算所需的属性数值。
:3.将第二步运算的结果作为属性数值代入'''属性基本公式'''，附加上潜能给予的属性（通常为直接加算），得到干员的基础属性（即干员资料页中显示的属性数值）。

===例子===
{{:游戏数据基础/属性计算例子}}

&amp;lt;!--==伤害类型==
游戏中共有'''4'''种伤害类型。
===基本伤害类型===
*物理伤害：指伤害类型为'''PHYSICAL'''的伤害。
*法术伤害：指伤害类型为'''MAGICAL'''的伤害。
*真实伤害：指伤害类型为'''PURE'''的伤害。
*治疗：一种可以治疗目标的特殊的“伤害”，指伤害类型为'''HEAL'''的伤害。
===伤害类型掩码===
游戏中目前已经使用的共有'''7'''种伤害类型掩码。&amp;lt;br&amp;gt;
目前被用于该计算的伤害类型的最大位长度为5，已确定的位数为4位，剩余位置尚未确定用途&amp;lt;ref group="什么是位？"&amp;gt;指在二进制中，每个二进制数0或1都是一个位。&amp;lt;/ref&amp;gt;。
*第一位：未知
*第二位：物理伤害
*第三位：法术伤害
*第四位：真实伤害
*第五位：治疗
&amp;lt;references group="什么是位？" /&amp;gt;
====已知的掩码====
*物理伤害（PHYSICAL），内部数值为00010=2。
*法术伤害（MAGICAL），内部数值为00100=4。
*真实伤害（PURE），内部数值为01000=8。
*治疗（HEAL），内部数值为10000=16。
*任意攻击（ANY_ATTACK），内部数值为01110=14。
*任意治疗（ANY_HEAL），内部数值为10000=16。
*除真实伤害外的任意伤害（ANY_ATTACK_EXCEPT_PURE），内部数值为00110=6&amp;lt;ref group="解释"&amp;gt;由此可见，该掩码的同时对应了'''物理伤害'''（00010&amp;amp;00110=1）和'''法术伤害'''（00100&amp;amp;00110=1），因此同时对两种伤害生效但不对'''真实伤害'''（01000&amp;amp;00110=0）生效。该解释中的&amp;amp;为按位与符号。&amp;lt;/ref&amp;gt;。
&amp;lt;references group="解释" /&amp;gt;
====用途====
伤害类型掩码被用于确定某操作所针对的伤害类型。&amp;lt;br&amp;gt;
以下内容可能涉及客户端内部实现的讲解，如不需查询该部分可以直接跳过此节。&amp;lt;br&amp;gt;
以下内容中提到的内容均以简体中文版客户端'''0.9.01'''版本为基础，'''仅供参考，可能会与现在版本的客户端有出入'''。
{{Hide|标题=用途分析|内容=&amp;lt;nowiki/&amp;gt;
*'''闪避'''：闪避由Nodes.Evade类型的Node处理。游戏中共预设了'''5'''种闪避BUFF模板，分别为evade, evade_magic, evade_physical, evade_physical_melee, evade_ranged。&amp;lt;br&amp;gt;其中evade的伤害类型掩码为ANY_ATTACK_EXCEPT_PURE，代表该闪避只能闪避除真实伤害以外的伤害。&amp;lt;br&amp;gt;'''[[红]]'''的技能1使用了该模板，因此她可以同时闪避物理和法术伤害，但不能闪避真实伤害。
*'''反伤'''：反伤由Nodes.InverseDamage类型的Node处理。游戏中只有'''2'''种反伤BUFF模板。分别为inverse_damage, inverse_damage[magic]。&amp;lt;br&amp;gt;其中inverse_damage的伤害类型为PHYSICAL，代表其反弹伤害为物理伤害。&amp;lt;br&amp;gt;'''[[星熊]]'''的技能2使用了该模板，因此她的反弹伤害本质上是一次对攻击者的'''攻击力倍率'''为反伤倍率的物理伤害。&amp;lt;br&amp;gt;Nodes.InverseDamage可以在携带者被任意类型伤害攻击时触发，但反伤的对象被设置了阵营掩码以确定是否继续进行反伤计算。&amp;lt;br&amp;gt;inverse_damage中的阵营掩码为ENEMY，因此'''[[星熊]]'''的技能2不会对队友生效。
*'''抵挡'''：抵挡由Nodes.BlockDamage类型的Node处理。游戏中共有'''2'''种抵挡BUFF模板。分别为damage_block, damage_block_once。&amp;lt;br&amp;gt;其中damage_block的filterDamageType被设置为false，表示其关闭了伤害类型过滤器，不限制伤害类型。&amp;lt;br&amp;gt;'''[[星熊]]'''的天赋使用了该模板，因此她可以抵挡所有伤害。}}--&amp;gt;

==基本公式==
{{#Widget:Math}}
*所有的伤害和增减益数值计算都应归结为属性间计算。
*基本公式指以'''属性'''为核心直接运算出结果的公式。
*以下所有公式中涉及到的'''属性'''均被加粗且应使用[[游戏数据基础#属性]]中完成计算后得到的数值。
*'''MAX'''为取最大值函数（取给定值集合中的最大值，[https://github.com/Unity-Technologies/UnityCsReference/blob/master/Runtime/Export/Math/Mathf.cs#L90 代码实现]）；'''CLAMP'''为区间限定函数（取给定值距离给定区间中最近的值，[https://github.com/Unity-Technologies/UnityCsReference/blob/master/Runtime/Export/Math/Mathf.cs#L180 代码实现]），以下不再注明。
===倍率===
倍率是一个可能被技能等外部因素影响的变量，初始值为1.0。
* '''注意：倍率不是属性。'''它是一个修饰值，用于修改属性值最基础的出力结果。
* 同种倍率间叠乘，即最终倍率 \(M = m_1m_2 \cdots m_n\)
====攻击力倍率====
最基础的攻击力修正值。

'''举例：'''专精3等级的[[推进之王#技能|碎颅击]]描述如下：
{| class="wikitable" style="display:table;white-space:normal;width:700px;"
| 攻击间隔{{color|#FF6237|增大(+1.0)}}，攻击时攻击力提高至{{color|#0098DC|380%}}，并且有{{color|#0098DC|40%}}的概率击晕目标{{color|#0098DC|1.5}}秒
|}
这里的“攻击力提高至{{color|#0098DC|380%}}”即“此时的'''攻击力倍率'''为380%”。

====伤害倍率====
伤害倍率只能对其对应的伤害类型生效。

'''举例：'''专精3等级的[[塞雷娅#技能|钙质化]]描述如下：
{| class="wikitable" style="display:table;white-space:normal;width:700px;"
|附近所有友军每秒回复相当于塞雷娅攻击力{{color|#0098DC|35%}}的生命&amp;lt;br/&amp;gt;附近所有敌军受到的法术伤害{{color|#0098DC|+55%}}，移动速度{{color|#0098DC|-60%}}
|}
这里的“受到的法术伤害{{color|#0098DC|+55%}}”即“此时的'''法术伤害倍率'''为155%”。此处官方使用了一个外显用数值来显示这个“55%”。

====治疗倍率====
修正治疗类效果的修正值。

'''举例：'''专精3等级的[[桃金娘#技能|治愈之翼]]描述如下：
{| class="wikitable" style="display:table;white-space:normal;width:700px;"
|停止攻击，持续时间内回复总共{{color|#0098DC|16}}点部署费用，并每秒治疗周围一名友方单位相当于桃金娘攻击力{{color|#0098DC|50%}}的生命
|}
这里的“治疗相当于攻击力{{color|#0098DC|50%}}的生命”即代表“此时的'''治疗倍率'''为50%”。

===伤害公式===
'''最终伤害''' = 基本伤害 * 该类型伤害对应的伤害倍率
* 治疗也适用此公式，因“治疗”也属于一种伤害类型。

基本伤害由下列公式计算（根据伤害类型各有不同）：

'''基本物理伤害'''

\( DMG_p = \underline{\mathsf{MAX}} \left( 0.05AM, AM- \left[ \left( 1-I_p \right) *\underline{\mathsf{MAX}} \left( 0, D-I_v \right) \right] \right) \)

其中：
* \(A\) 为基础攻击力值；
* \(M\) 为最终的攻击力倍率；
* \(I_p\) 为'''百分比无视防御'''的值；
* \(D\) 为目标的防御力最终结果；
* \(I_v\) 为'''数值无视防御'''的值。

'''基本法术伤害'''

\( DMG_a = \underline{\mathsf{MAX}} \left\{ 0.05AM, 0.01AM*\underline{\mathsf{MAX}} \left[ 0, 100- \left( 1-I_p \right) *\underline{\mathsf{MAX}} \left( 0, D-I_v \right) \right] \right\} \)

其中：
* \(A\) 为基础攻击力值；
* \(M\) 为最终的攻击力倍率；
* \(I_p\) 为'''百分比无视法抗'''的值；
* \(D\) 为目标的法抗最终结果；
* \(I_v\) 为'''数值无视法抗'''的值。
由于特殊的不可抗力因素，算法中的“0.01”的实际数值略小于标注值（实际数值约有-0.3e-7的误差）——会直接导致该算法算得的伤害数据也会略小于此处算法的实际值。

'''基本元素伤害'''{{#widget:math}}

\( DMG_e = A * ( 1-D*0.01 ) \)

其中：
* \(A\) 为基础攻击力值；
* \(D\) 为目标的元素抗性最终结果。
作为参考，目标受到元素损伤时也可以使用该公式计算，只需要将 \(D\) 值改为目标的'''损伤抵抗'''即可。

'''基本真实伤害''' = 基础攻击力值 * 攻击力倍率

'''基本治疗量''' = 基础攻击力值 * 治疗倍率

===攻速公式===
实际攻击间隔 \( T = T_0/(\underline{\mathsf{CLAMP}}(S,10,600)/100) \)，其中：
* \(T_0\) 为'''理论攻击间隔'''。
** 如果不确定此值，除了查询数据外，还可根据干员页面的攻速显示来确定攻击间隔区间。
{|class="wikitable" style="width:400px; display:table; text-align:center; white-space:normal;"
!描述
!区间
|-
|非常快||＜0.8s
|-
|快||0.8s-1.0s
|-
|中等||1.0s-1.2s
|-
|较慢||1.2s-1.6s
|-
|慢||≥1.6s
|}
* \(S\) 为'''攻击速度'''（默认为100）。
* \(\underline{\mathsf{CLAMP}}(S,10,600)\) 代表 S 在10~600之外时将会输出距离这两端极值中最近的值，否则输出原值。
** 虽然这里最低是10，但'''攻击速度'''属性实际被限制了下限为20，参见[[游戏数据基础#数值范围]]。
每秒攻击次数 = 1/'''实际攻击间隔'''
&amp;lt;!--==详细公式==
&amp;lt;ref group="公式来源"&amp;gt;[https://ngabbs.com/read.php?tid=17225987&amp;amp;fav=640eb852 资料来源：NGA-Beansidhe]&amp;lt;/ref&amp;gt;
===攻击buff公式===
{{color|red|'''A'''}}为面板攻击buff(词缀为+{{color|red|'''A'''}}%攻击)&amp;lt;br&amp;gt;
所有同类型buff为加算&amp;lt;br&amp;gt;
{{color|blue|'''B'''}}为攻击倍率(词缀为造成相当于{{color|blue|'''B'''}}%攻击力的伤害)&amp;lt;br&amp;gt;
{{color|green|'''C'''}}为最终攻击倍率(词缀为攻击力提升至{{color|green|'''C'''}}%攻击力的伤害)&amp;lt;ref group="公式来源"&amp;gt;[https://ngabbs.com/read.php?tid=17527249 资料来源：NGA-喜欢阿布熊的加贺桑]&amp;lt;/ref&amp;gt;&amp;lt;br&amp;gt;
&amp;lt;nowiki&amp;gt;[自身面板攻击力×&amp;lt;/nowiki&amp;gt;(1+{{color|red|'''A'''}}&amp;lt;nowiki&amp;gt;%)+友方面板攻击力×友方技能倍率]&amp;lt;/nowiki&amp;gt;×造成{{color|blue|'''B'''}}%伤害×攻击力提升至{{color|green|'''C'''}}%

===百分比降防/降抗debuff叠加公式===
{{color|red|'''A'''}}, {{color|blue|'''B'''}},{{color|green|'''C'''}}分别是不同角色的降防技能
两位debuff最终降低百分比 = ({{color|red|'''A'''}}+{{color|blue|'''B'''}})-({{color|red|'''A'''}}×{{color|blue|'''B'''}})&amp;lt;br&amp;gt;
三位debuff最终降低百分比 = [{{color|red|'''A'''}}+{{color|blue|'''B'''}}-{{color|red|'''A'''}}×{{color|blue|'''B'''}}]+{{color|green|'''C'''}}-[{{color|red|'''A'''}}+{{color|blue|'''B'''}}-{{color|red|'''A'''}}×{{color|blue|'''B'''}}]×{{color|green|'''C'''}}&amp;lt;br&amp;gt;
1 - 最终降低百分比 = (1-{{color|red|'''A'''}})(1-{{color|blue|'''B'''}})(1-{{color|green|'''C'''}})....(1-'''n''')&amp;lt;br&amp;gt;
===伤害增加buff叠加公式===
{{color|red|'''A'''}}, {{color|blue|'''B'''}}分别是不同角色的易伤技能&amp;lt;br&amp;gt;
最终易伤百分比 = {{color|red|'''A'''}}×{{color|blue|'''B'''}}
===物理伤害公式===
{{color|red|'''A'''}}为减少的防御力(词缀为-{{color|red|'''A'''}}防御)&amp;lt;br&amp;gt;
{{color|blue|'''B'''}}为减少的百分比防御(词缀为-{{color|blue|'''B'''}}%防御)&amp;lt;br&amp;gt;
{{color|green|'''C'''}}为易伤buff(词缀为受到的伤害提升{{color|green|'''C'''}}%)&amp;lt;br&amp;gt;
[最终攻击力-(防御力-{{color|red|'''A'''}})×(1-{{color|blue|'''B'''}}%)]×最终提升{{color|green|'''C'''}}%受到伤害
===法术伤害公式===
{{color|red|'''A'''}}为减少的法抗(词缀为-{{color|red|'''A'''}}法抗)&amp;lt;br&amp;gt;
{{color|blue|'''B'''}}为减少的法抗百分比(词缀为-{{color|blue|'''B'''}}%法术抗性)&amp;lt;br&amp;gt;
{{color|green|'''C'''}}为易伤buff(词缀为受到的伤害提至{{color|green|'''C'''}}%)&amp;lt;br&amp;gt;
最终攻击力×[1-(法抗-{{color|red|'''A'''}})×(1-{{color|blue|'''B'''}}%)/100]×最终提升{{color|green|'''C'''}}%受到伤害&amp;lt;br&amp;gt;
*伤害限制见[[游戏数据基础#基本公式]]。
--&amp;gt;

===重量公式===
{{Cbox2|lv=1|icon=info|text=由于位移计算涉及经典力学模型，故没有一个绝对的公式。&amp;lt;br&amp;gt;关于此部分的详细内容参见[[作战机制#敌方的位移|作战机制的“敌方的位移”部分]]。}}
{{Cbox2|lv=0|icon=stream|text='''数据源：'''
* [https://www.bilibili.com/video/BV1bL4y1i7hz 【纸上谈舟 1】Wiki的数据竟有误差！从液氮大炮聊起]
* [https://bbs.nga.cn/read.php?tid=22221080 &amp;lt;nowiki&amp;gt;[&amp;lt;/nowiki&amp;gt;物理方舟&amp;lt;nowiki&amp;gt;][&amp;lt;/nowiki&amp;gt;程序分析&amp;lt;nowiki&amp;gt;]&amp;lt;/nowiki&amp;gt;方舟推拉机制及物理引擎详解]
* [https://bbs.nga.cn/read.php?tid=20500125 &amp;lt;nowiki&amp;gt;[&amp;lt;/nowiki&amp;gt;bug or not&amp;lt;nowiki&amp;gt;]&amp;lt;/nowiki&amp;gt;对雪稚二技能打断霜星技能原理的探究与结论]}}
====力度对应表====
{|class="wikitable" style="width:600px; display:table; text-align:center; white-space:normal;"
!描述
!力度
|-
|微小力(稍微)||-1
|-
|小力||0
|-
|中力||1
|-
|较大力||2
|-
|大力||3
|}
====推力-位移近似对应表====
*以力学模型计算出的近似值。
&amp;lt;!--*三技能的温蒂触发技能后，如果蓄水炮在温蒂周围4格内的话会同时发射且判定为一次攻击，力度为：(温蒂力度对应值+蓄水炮力度对应值)（本节尚无力度对应值内容）--&amp;gt;
{|class="wikitable" style="width:600px; display:table; text-align:center; white-space:normal;"
!力度减重量
!位移长度(格)
!位移时间(秒)
|-
|≤-3||0||0
|-
| -2||0.12||0.2
|-
| -1||0.44||0.4
|-
|0||1.7||0.8
|-
|1||2.14||0.9
|-
|2||2.96||1.0667
|-
|3||3.53||1.1667
|}
====拉力-位移近似对应表====
*以力学模型计算出的近似值。
{|class="wikitable" style="width:600px; display:table; text-align:center; white-space:normal;"
!力度减重量
!拉力
!位移长度(格)
!位移时间(秒)
|-
|≤-3||0.0||0.0||0.0
|-
| -2||2.0||0.03&amp;lt;ref&amp;gt;由于拉力小于摩擦力，敌人只会缓慢蠕动&amp;lt;/ref&amp;gt;||0.5
|-
| -1||10.0||0.35倍初始距离&amp;lt;ref&amp;gt;初始距离0-4范围内近似成立&amp;lt;/ref&amp;gt;||max(0.65*sqrt(初始距离),1.0)&amp;lt;ref&amp;gt;初始距离0-4范围内近似成立，0.65*sqrt(初始距离)到1.0这段时间内缓慢蠕动&amp;lt;/ref&amp;gt; &amp;lt;!--根据https://ngabbs.com/read.php?tid=22221080里的方程算出来的，但似乎比游戏实测位移偏大--&amp;gt;
|-
|0||40.0||必定拉至身前&amp;lt;ref&amp;gt;初始距离小于89&amp;lt;/ref&amp;gt;||
|-
|1||42.0||必定拉至身前||
|-
|2||44.0||必定拉至身前||
|-
|3||46.0||必定拉至身前||
|}
&amp;lt;references/&amp;gt;

===移速===
{{Cbox2|lv=1|icon=info|text=此部分内容和敌方单位的行动有关。&amp;lt;br&amp;gt;关于此部分的详细内容参见[[作战机制#敌方单位行动与坐标相关|作战机制的“敌方单位行动与坐标相关”部分]]。}}
通常情况下，敌人在可以正常移动的每帧都会以寻路算法向着目标点以最短路径移动 &amp;lt;code&amp;gt;移动速度 * move_multiplier / 帧率&amp;lt;/code&amp;gt; 格直至其途径目标点，哪怕其与目标点之间的距离小于该数值也会移动（并越过那个位置），且移动时并不会检测本次移动的落点是否处于可通行地块。
*move_multiplier默认值为0.5，即通常情况下实际移动速度是一半（在二倍速下才会视觉相等）。
*由于[[#数值范围|数值范围]]问题，移动速度数值不会低于速度下限0.1（即在move_multiplier为正常的0.5的情况下，每秒只能移动0.05格），但无上限。
*虽然无法移动，但我方干员、装置、召唤物移动速度均为默认的1.0。
===闪避公式===
{{Cbox2|lv=1|icon=info|text=闪避公式现在有了更精细的定义，即“伤判效果”。&amp;lt;br&amp;gt;关于此部分的详细内容参见[[伤判效果]]，'''此处仅讨论只拥有闪避这一种伤判效果的情况。'''}}
一个单位拥有多个闪避效果且不拥有其他类型的伤判效果时，最终的闪避成功率可视为叠乘。

即，闪避期望成功率 \(P = 100\%-[1-(1-P_a)(1-P_b) \cdots (1-P_n)] \)
===维持技能状态===
部分技能开启后，单位将不会执行普攻，而是进入一个持续执行技能效果的恒定状态，此状态即为“维持技能状态”，如[[星熊]]三技能“力之锯”、[[伊芙利特]]三技能“灼地”等。
====时间模式====
维持技能状态的技能需要设定一个'''时间模式'''来确定其状态期间的攻击间隔。目前已知的时间模式为：
*'''跟随攻速：'''技能的攻击间隔以攻击速度为准，即跟随平常的攻击间隔。
*'''跟随动画：'''技能的攻击间隔以一个Spine动画周期为准，每播放一次该技能循环的Spine动画，造成一次伤害或其他效果。
*'''特定情况：'''''确认中''
*'''从Blackboard加载：'''''确认中''
====区别====
区别于一般技能，“维持技能状态”存在如下特性：
* 免疫各类攻击速度减速及加速效果（如{{术语|ba.cold|寒冷}}、活性地板的攻击速度BUFF等）；
* 眩晕、冻结等硬性控制会提前结束“维持技能状态”，进入技力恢复时间。

==仇恨==
&amp;lt;ref group="资料数据来源"&amp;gt;[https://bbs.nga.cn/read.php?tid=21728879&amp;amp;_fp=2 资料来源：NGA-hjhk258]&amp;lt;/ref&amp;gt;

{{:仇恨}}

&amp;lt;references /&amp;gt;
&amp;lt;references group="资料数据来源" /&amp;gt;

==数值范围==
{{:数值范围}}

===弹道===
{{:弹道}}

==异常效果==
{{:异常效果}}

==常见同名状态==
{{:常见同名状态}}

==特殊机制==
{{:特殊机制}}

==特殊地形==
{{:特殊地形}}
&amp;lt;references/&amp;gt;

==装置==
{{:装置一览}}
&amp;lt;references/&amp;gt;

==基建==
===贸易站===
* '''心情消耗/时'''
: 进驻于当前贸易站的干员每小时消耗的心情数量，默认值为1。
: 根据进驻贸易站的干员数量可获得基础心情消耗加成：进驻2人为-0.05，进驻3人为-0.1，进驻1人时无加成。
: 进驻贸易站的干员可通过后勤技能对贸易站产生一定数值的心情消耗加成，在控制中枢进驻的每一名干员也会为贸易站提供-0.05的心情消耗加成。
: 此处计量表'''只计入对贸易站内全体干员生效的心情消耗加成'''，因此实际干员心情消耗可能存在差异。
进驻贸易站干员的实际每小时心情消耗 = 1+(贸易站基础心情消耗加成)+(后勤技能与中枢产生的贸易站心情消耗加成)+(对当前干员生效的后勤技能心情消耗加成）
* '''获取订单效率'''
: 当前贸易站内订单获取速度的加成情况。
: 每进驻1名干员即可获得1%的基础加成。
: 进驻贸易站及其他设施的干员可通过后勤技能对贸易站产生一定数值的获取订单效率加成。
贸易站实际获取订单效率 = 1+(基础获取订单效率加成)+(后勤技能产生的获取订单效率加成)
*'''订单获取用时'''
{| class="wikitable" style="text-align:center"
!建筑等级条件
!谈判策略
!订单所需
!订单报酬
!获取所需时间
|-
!1
|rowspan=3|龙门商法
|{{材料消耗|赤金|2}}||{{材料消耗|龙门币|1000}}||2:24:00
|-
!2
|{{材料消耗|赤金|3}}||{{材料消耗|龙门币|1500}}||3:30:00
|-
!3
|{{材料消耗|赤金|4}}||{{材料消耗|龙门币|2000}}||4:36:00
|-
!3
|开采协力||{{材料消耗|源石碎片|2}}||{{材料消耗|合成玉|20}}||2:00:00
|}
*'''赤金订单出现概率'''
{| class="wikitable" style="text-align:center"
!rowspan=2|订单所需
!colspan=3|出现概率
|-
!width=100px|贸易站1级
!width=100px|贸易站2级
!width=100px|贸易站3级
|-
|{{材料消耗|赤金|2}}||100%||60%||30%
|-
|{{材料消耗|赤金|3}}||0%||40%||50%
|-
|{{材料消耗|赤金|4}}||0%||0%||20%
|}
*'''贸易站技能【裁缝】【手工艺品】对3级贸易站赤金订单概率的影响
{| class="wikitable" style="text-align:center"
!rowspan=2|订单所需
!colspan=3|出现概率
|-
!width=100px|常规
!width=150px|裁缝/手工艺品·α
!width=150px|裁缝/手工艺品·β
|-
|{{材料消耗|赤金|2}}||30%||15%{{color|#FF6237|(-15%)}}||5%{{color|#FF6237|(-25%)}}
|-
|{{材料消耗|赤金|3}}||50%||30%{{color|#FF6237|(-20%)}}||10%{{color|#FF6237|(-40%)}}
|-
|{{材料消耗|赤金|4}}||20%||55%{{color|#00B0FF|(+35%)}}||85%{{color|#00B0FF|(+65%)}}
|}
* 二级贸易站订单原始概率更新于2022年11月28日，订单概率影响更新于2022年8月8日
* '''α级'''需进驻贸易站累积工作3小时后达到该值，'''β级'''需进驻贸易站累积工作5小时后达到该值
* α级与β级同时进驻时存在效果叠加：各干员分别判定下一单可能出现的结果，取需求赤金最多（即最多龙门币）的订单作为下一单订单
* 持有相关贸易站技能的干员离开贸易站并重新进驻时，会清空累积工作时间重新统计

&amp;lt;ref group="资料来源"&amp;gt;[https://ngabbs.com/read.php?tid=21159636 资料来源：NGA-星空灵核]&amp;lt;/ref&amp;gt;
&amp;lt;ref group="资料来源"&amp;gt;[https://www.bilibili.com/video/BV1UW4y1a78E 资料来源：B站-公孙长乐]&amp;lt;/ref&amp;gt;
&amp;lt;references group="资料来源"/&amp;gt;

===训练室===
*'''基本训练时间'''
{| class="wikitable"
!专精阶段
!用时
|-
! scope="row" | [[文件:专精 0.png|50px|link=]]⇨[[文件:专精 1.png|50px|link=]]
|08:00:00
|-
! scope="row" | [[文件:专精 1.png|50px|link=]]⇨[[文件:专精 2.png|50px|link=]]
|16:00:00
|-
! scope="row" | [[文件:专精 2.png|50px|link=]]⇨[[文件:专精 3.png|50px|link=]]
|24:00:00
|}
*'''协助位加成'''
:在训练室协助位内进驻任意未处于注意力涣散状态的干员，即可获得5%的训练速度加成。
:此时，实际训练时间=基本训练时间/(1+0.05+[[后勤技能一览#训练室|协助训练干员后勤技能加成]])

===会客室===
&amp;lt;ref group="资料来源"&amp;gt;[https://ngabbs.com/read.php?tid=17370049&amp;amp;page=3#pid345535686Anchor 资料来源（旧）：NGA-botpig]&amp;lt;/ref&amp;gt;
&amp;lt;ref group="资料来源"&amp;gt;[https://www.bilibili.com/video/BV1ES4y1g7iw?spm_id_from=333.999.0.0 资料来源：B站用户-一个资深的烧饼-]&amp;lt;/ref&amp;gt;
*最终加成百分比是下述表格列出百分数的加算
*干员在处于'''注意力涣散'''的情况下，依然会触发 '''精英化''' '''星级''' 的加成
{|class="wikitable" style="width:600px; display:table; text-align:center; white-space:normal;"
! scope="row" colspan="2"| 宿舍氛围累计加成
! scope="row" colspan="2"| 进驻干员星级
! scope="row" colspan="2"| 进驻干员精英阶段
! scope="row" colspan="2"| 会客厅等级
! scope="row" colspan="2"| 非涣散加成
|-
|'''条件'''||'''加成'''
|'''条件'''||'''加成'''
|'''条件'''||'''加成'''
|'''条件'''||'''加成'''
|rowspan="5"|5%
|-
|0-1999||0%
|1-3||0%
|0||0%
|1||7%
|-
|2000-2999||5%
|4||2%
|1||8%
|2||9%
|-
|3000-3999||10%
|5||4%
|2||16%
|3||11%
|-
|4000-20000||15%
|6||5%
|colspan="2"|
|colspan="2"|
|-


|}
&amp;lt;references group="资料来源" /&amp;gt;

===宿舍===
干员进驻宿舍休息时，恢复心情的速率与所在宿舍的等级和氛围相关，具体公式为：
*每小时恢复心情值=1.5+0.1*宿舍等级+0.0004*实际宿舍氛围+[[后勤技能一览#宿舍|宿舍内干员技能加成]]
{{#seo:
|title=游戏数据基础 - PRTS - 玩家共同构筑的明日方舟中文Wiki
|titlemode=append
|keywords=PRTS,明日方舟,明日方舟Arknights,Arknights,明日方舟wiki,明日方舟百科,明日方舟攻略,明日方舟图鉴,明日方舟,明日方舟资料站
|description=PRTS是一个非营利性质的明日方舟资料Wiki网站
}}&lt;/text&gt;
      &lt;sha1&gt;fwrwe67ompaoo6qy0w9baqoh6fixdan&lt;/sha1&gt;
    &lt;/revision&gt;
  &lt;/page&gt;
&lt;/mediawiki&gt;
</export></query></api>